<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style type="text/css">
        body{
            background-color:rgb(111, 222, 123);
        }
    </style>
</head>
<body>
    <p>
        r : 
        <input type="button" value="-" id="btnRM" />
        <input type="text" id="txtR"/ value="111">
        <input type="button" value="+" id="btnRP" />

    </p>
    <p>
        g: 
        <input type="button" value="-" id="btnGM" />
        <input type="text"  id="txtG"/ value="222">
        <input type="button" value="+" id="btnGP" />
    </p>
    <p>
        b: 
        <input type="button" value="-" id="btnBM" />
        <input type="range"  id="txtB"/ value="123">
        <input type="button" value="+" id="btnBP" />
    </p>
    <P>
        <input type="button" value="go" id="btnGo" />
    </P>

    <script type="text/javascript">
    // 获取所有按钮
        var txtR = document.getElementById("txtR");
        var txtG = document.getElementById("txtG");
        var txtB = document.getElementById("txtB");

        var btnGo = document.getElementById("btnGo");
        var btnRM = document.getElementById("btnRM");
        var btnGM = document.getElementById("btnGM");
        var btnBM = document.getElementById("btnBM");
        var btnRP = document.getElementById("btnRP");
        var btnGB = document.getElementById("btnGP");
        var btnBP = document.getElementById("btnBP");

    // 全局信号量
        var r = 111;
        var g = 222;
        var b = 123;

    // 各种监听，监听一共有七个
        btnRM.onclick = function(){
            r--;
            changeColor();
        }
        btnGM.onclick = function(){
            g--;
            changeColor();
        }
        btnBM.onclick = function(){
            b--;
            changeColor();
        }

        btnRP.onclick = function(){
            r++;
            changeColor();
        }
        btnGP.onclick = function(){
           g++;
            changeColor();
        }
        btnBP.onclick = function(){
            b++;
            changeColor();
        }
        btnGo.onclick = function(){
            if(!/^\d+$/.test(txtR.value) ||
                !/^\d+$/.test(txtR.value) ||
                !/^\d+$/.test(txtR.value)){
                    alert("错误的输入");
                txtR.value = r ;
                txtR.value = g ;
                txtR.value = b ;
                    return;
                }
            r = txtR.value;
            g = txtG.value;
            b = txtB.value;
            changeColor();
        }
    // 业务
        function changeColor(){
            if (r > 255) r = 255;
            if (g > 255) g = 255;
            if (b > 255) b = 255;
            if (r < 0) r = 0 ;
            if (g < 0) g = 0 ;
            if (b < 0) b = 0 ;


            // 根据当前信号量来设置颜色
            document.body.style.backgroundColor = "rgb(" + r + "," + g + "," + b + ")";
            // 框框里面的数字变
            txtR.value = r ;
            txtG.value = g ;
            txtB.value = b ;

        }
    </script>
</body>
</html>